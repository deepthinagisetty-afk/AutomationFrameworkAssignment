@startuml
title Automation Framework Architecture - selenium-testng-cucumber

package "AutomationFrameworkAssignment" {
  package "selenium-testng-cucumber" {
    [TestNG XML\n(testng.xml)]
    [pom.xml]
    [Runner classes\n(TestRunner / per-feature runners)]
    [Features\n*.feature files]
    [Step Definitions\nsrc/test/java/steps]
    [Hooks\n@Before/@After]
    [Listeners\nFeaturePathPerTestListener / IAlterSuiteListener]
    [Utils\nDriverFactory, DriverManager, JsonDataReader, TestDataLoader]
    [Reports\ncucumber html/json, extent]
    [WebDriver instances\n(ThreadLocal)]
  }
}

' relationships
[TestNG XML] --> [Listeners] : sets parameters
[Listeners] --> [Runner classes] : set System props (cucumber.features, testdata.file)
[Runner classes] --> [Features] : loads pickles
[Runner classes] --> [Step Definitions]
[Runner classes] --> [Hooks]
[Hooks] --> [Utils]
[Step Definitions] --> [Utils]
[Hooks] --> [WebDriver instances]
[Utils] --> [WebDriver instances]

[Runner classes] --> [Reports]
[Reports] --> [pom.xml] : collected by CI

note right
Concurrency model:
- Scenario-level parallel via TestRunner @DataProvider(parallel=true)
- Class-level parallel via TestNG parallel="classes"
- Per-<test> isolation requires Maven Surefire forks (forkCount / reuseForks=false)
end note

@enduml
